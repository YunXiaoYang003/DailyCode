C51 COMPILER V9.54   MAIN                                                                  09/16/2022 02:14:03 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\soft\Keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\ma
                    -in.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include<reg51.h>  
   2          
   3          #define uchar unsigned char             
   4          #define uint unsigned int
   5          
   6          #define LcdDB P0// 数据端口
   7          
   8          uchar  code table1[] = "2021051123";      //定义数组
   9          uchar  code table2[] = "Wang YunXiang";
  10          
  11          uchar *str1 = table1;   
  12          uchar *str2 = table2;     //数组名表示数组首元素的地址
  13          //函数声明
  14           void LcdBusy();
  15           void LcdWrCmd(uchar Cmd);
  16           void LcdWrDat(uchar Dat);
  17           void Lcd_Init();
  18           void Lcd_Show(uchar x, uchar y);  
  19          / 定义引脚
*** ERROR C141 IN LINE 19 OF main.c: syntax error near '/'
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xB6 skipped
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xA8 skipped
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xD2 skipped
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xE5 skipped
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xD2 skipped
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xBD skipped
*** ERROR C100 IN LINE 19 OF main.c: unprintable character 0xC5 skipped
  20          sbit LcdRS = P2^2;   
  21          sbit LcdRW = P2^1; 
  22          sbit LcdE = P2^0;        /
*** ERROR C141 IN LINE 22 OF main.c: syntax error near '/'
  23          
  24          //判忙函数
  25          void LcdBusy()            
  26          {
  27   1      
  28   1              uchar temp;
*** ERROR C202 IN LINE 28 OF main.c: 'uchar': undefined identifier
*** ERROR C141 IN LINE 28 OF main.c: syntax error near 'temp'
  29   1      
  30   1              LcdDB = 0xff;  
  31   1              LcdRS = 0;  
  32   1              LcdRW = 1;       
  33   1      
  34   1              do{
  35   2              
  36   2                      LcdE = 1;                
  37   2                      temp = LcdDB;  
*** ERROR C202 IN LINE 37 OF main.c: 'temp': undefined identifier
  38   2                      LcdE = 0;                 
  39   2                      
  40   2              }while(temp & 0x80);  
*** ERROR C202 IN LINE 40 OF main.c: 'temp': undefined identifier
  41   1      }
C51 COMPILER V9.54   MAIN                                                                  09/16/2022 02:14:03 PAGE 2   

  42          
  43          
  44          void LcdWrCmd(uchar Cmd)        
  45          {
  46   1      
  47   1              LcdBusy();  
  48   1              LcdRS = 0;    
  49   1              LcdRW = 0;  
  50   1              LcdDB = Cmd;  
  51   1              LcdE = 1;
  52   1              LcdE = 0;         
  53   1      }
  54          
  55          //写数据函数
  56          void LcdWrDat(uchar Dat)        
  57          {
  58   1              LcdBusy();  
  59   1              LcdRS = 1; 
  60   1              LcdRW = 0;  
  61   1              LcdDB = Dat;  
  62   1              LcdE = 1;
  63   1              LcdE = 0;               
  64   1      }
  65          
  66          //初始化函数
  67          void Lcd_Init()            
  68          {
  69   1              LcdWrCmd(0x01); 
  70   1              LcdWrCmd(0x06); 
  71   1              LcdWrCmd(0x0c); 
  72   1              LcdWrCmd(0x38); 
  73   1      }
  74          
  75          
  76           //定位函数
  77          void Lcd_Show(uchar x, uchar y)         
  78          {
  79   1              uchar addr;                     
  80   1              if(0==y)                          
  81   1                      {
  82   2                      addr = 0x00 + x;         
  83   2                      }
  84   1              else
  85   1              
  86   1                      addr = 0x40+x;          
  87   1                      LcdWrCmd(addr|0x80);  
  88   1                      
  89   1      }
  90          
  91          
  92          void main()
  93          {       
  94   1              Lcd_Init();  
  95   1              Lcd_Show(0,0);  
  96   1          while(*str1 !='\0')  
  97   1              {                       
  98   2              LcdWrDat(*str1++) ;             
  99   2              }
 100   1      
 101   1              Lcd_Show(0,1);  
 102   1          while(*str2!='\0')
 103   1              {                       
C51 COMPILER V9.54   MAIN                                                                  09/16/2022 02:14:03 PAGE 3   

 104   2              LcdWrDat(*str2++) ;     
 105   2              }
 106   1              while(1)
 107   1              {         }
 108   1              
 109   1      }
 110          

C51 COMPILATION COMPLETE.  0 WARNING(S),  13 ERROR(S)
